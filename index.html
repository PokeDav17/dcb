<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>La mia libreria</title>
</head>
<body>
<h1>Libreria EPUB</h1>
<ul id="lista"></ul>
<script>
const repoOwner = "PokeDav17";
const repoName  = "dcb";
const path = "ebooks";

async function caricaLista() {
  const url = `https://api.github.com/repos/${repoOwner}/${repoName}/contents/${path}`;
  const res = await fetch(url);
  const files = await res.json();
  const lista = document.getElementById("lista");
  files.forEach(f => {
    if(f.name.endsWith(".epub")){
      const li = document.createElement("li");
      const a = document.createElement("a");
      a.href = f.download_url;
      a.textContent = f.name.replace(".epub","");
      li.appendChild(a);
      lista.appendChild(li);
    }
  });
}
caricaLista();
</script>
</body>
</html>
